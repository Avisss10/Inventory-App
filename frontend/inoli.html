<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Input Literan Masuk</title>
    <link rel="stylesheet" href="/css/literan/inoli.css">
</head>
<body>
    <a href="index.html" class="btn btn-back">â† Kembali ke Menu</a>
    <div class="container-flex">
        <div class="sidebar">
            <h2>Input Literan Masuk</h2>
            <form id="oliMasukForm">
                <input type="hidden" id="oli_id">
                
                <label for="tanggal_masuk">Tanggal Masuk</label>
                <input type="date" id="tanggal_masuk" name="tanggal_masuk" required>

                <label for="nama_oli">Nama Literan</label>
                <input type="text" id="nama_oli" name="nama_oli" required>

                <label for="no_seri">Nomor Seri / Batch</label>
                <input type="text" id="no_seri" name="no_seri" required>

                <label for="jumlah_baru">Jumlah Literan Baru (liter)</label>
                <input type="number" id="jumlah_baru" name="jumlah_baru" min="0" step="0.01" required>

                <label for="satuan">Satuan</label>
                <input type="text" id="satuan" name="satuan" value="L" readonly style="background:#e9ecef;">

                <label for="harga">Harga per Liter (Rp)</label>
                <input type="text" id="harga" name="harga" placeholder="Contoh: 150.000" required>

                <label>Vendor / Pemasok:</label>
                <input type="text" id="vendor_input" list="vendorList" required autocomplete="off">
                <datalist id="vendorList"></datalist>
                <div id="loading-vendors" style="display:none; color:#666; font-size:12px;">Memuat data vendor...</div>

                <div class="oli-lama-section">
                    <h4>ğŸ”„ Literan Lama (Opsional - untuk digabung)</h4>
                    <label for="old_oli_input">Pilih Literan Lama</label>
                    <input 
                        type="text" 
                        id="old_oli_input" 
                        list="oldOliList" 
                        placeholder="Ketik untuk mencari literan lama..." 
                        autocomplete="off"
                    />
                    <datalist id="oldOliList"></datalist>

                    <label for="sisa_lama">Jumlah Sisa Lama (liter)</label>
                    <label id="stock_label" class="stock-label" style="display:none; padding-top: 5px;"></label>
                    <input type="number" id="sisa_lama" name="sisa_lama" min="0" step="0.01" placeholder="0">
                    
                    <div id="total_info" style="margin-top:10px; padding:8px; background:#fff3cd; border-radius:4px; display:none;">
                        <small><strong>Total Masuk:</strong> <span id="total_masuk">0</span> liter</small>
                    </div>
                </div>

                <label for="keterangan">Keterangan (Opsional)</label>
                <textarea id="keterangan" name="keterangan" placeholder="Contoh: Literan baru dari supplier resmi"></textarea>

                <button type="submit" class="btn" id="submitBtn">Simpan</button>
                <button type="button" class="btn btn-back" id="cancelEditBtn">Batal</button>
            </form>
        </div>
        <div class="main-content">
            <h3>Cari Literan</h3>
            <input type="text" placeholder="Ketik nama/no seri Literan..." id="oli_input" autocomplete="off">
            <h3>Daftar Literan Masuk</h3>
            <table id="oliTable">
                <thead>
                    <tr>
                        <th style="width:40px;text-align:center;">No</th>
                        <th style="width:100px;text-align:center;">Tanggal</th>
                        <th>Nama Literan</th>
                        <th style="width:90px;text-align:center;">No. Seri</th>
                        <th style="width:70px;text-align:right;">Baru</th>
                        <th style="width:70px;text-align:right;">Lama</th>
                        <th style="width:70px;text-align:right;">Total</th>
                        <th style="width:70px;text-align:right;">Dipakai</th> <!-- { added column } -->
                        <th style="width:70px;text-align:right;">Sisa Akhir</th> <!-- { added column } -->
                        <th style="width:80px;text-align:right;">Harga Satuan</th>
                        <th style="width:80px;text-align:right;">Total Harga</th>
                        <th style="width:50px;text-align:center;">Satuan</th>
                        <th style="width:120px;">Status</th>
                        <th style="width:130px;text-align:center;">Vendor</th>
                        <th style="width:110px;text-align:center;">Aksi</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <div id="pagination" class="pagination"></div>
        </div>
    </div>

    <script src="/js/literan/inoli.js"></script>
</body>
</html>